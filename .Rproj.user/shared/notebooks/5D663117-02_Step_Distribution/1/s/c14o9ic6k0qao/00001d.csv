"0",""
"0","# Extract subject IDs with extreme values"
"0","ex.list <- unique(result$subjectid[ex.list])"
"0",""
"0","# Filter out individuals with extreme values"
"0","result_no_extreme <- result %>%"
"0","  filter(!subjectid %in% ex.list)  # N = 1215; N = 37 Excluded"
"0",""
"0","# Output the number of excluded individuals"
"0","cat('The number of individuals who are excluded due to extreme values: ',"
"0","    nrow(result) - nrow(result_no_extreme))  # Num = 30"
"1","The number of individuals who are excluded due to extreme values: "
"1"," "
"1","30"
"0","# Save the dataset excluding extreme values to a CSV file"
"0","write_csv(result_no_extreme, '00_Intermediate_output/03_Step_Cov_Imputed_ExcludeExtreme.csv')"
"0",""
"0","# Reshape data for step count distribution analysis"
"0","tmp <- result %>%"
"0","  select(subjectid, ADEPT, Oak, SDT, Stepcount, Verisense) %>%"
"0","  pivot_longer(cols = c(ADEPT, Oak, SDT, Stepcount, Verisense),"
"0","               names_to = ""Algorithm"","
"0","               values_to = ""Steps"") %>%"
"0","  group_by(Algorithm) %>%"
"0","  summarise("
"0","    `0-5000` = sum(Steps <= 5000),"
"0","    `5001-10000` = sum(Steps > 5000 & Steps <= 10000),"
"0","    `10001-15000` = sum(Steps > 10000 & Steps <= 15000),"
"0","    `15001-20000` = sum(Steps > 15000 & Steps <= 20000),"
"0","    `20001-30000` = sum(Steps > 20000 & Steps <= 30000),"
"0","    `30001-40000` = sum(Steps > 30000 & Steps <= 40000),"
"0","    `40001-50000` = sum(Steps > 40000 & Steps <= 50000),"
"0","    `>50000` = sum(Steps > 50000)"
"0","  )"
"0",""
"0","write_csv(tmp, 'Results/01_Step.distribution.afterExtreme.csv')"
