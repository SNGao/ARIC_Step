"0","library(blandr)"
"0","library(gridExtra)"
"0","library(patchwork)"
"0",""
"0","data = result.noextreme"
"0","# Generate all Bland-Altman plots"
"0","bland_altman_plots <- list()"
"0","algorithms = colnames(data)[-1]"
"0","for (i in 1:(length(algorithms) - 1)) {"
"0","  for (j in (i+1):length(algorithms)) {"
"0","    step.tmp = lm(data[[algorithms[j]]]~data[[algorithms[i]]])"
"0","    step.tmp = step.tmp$residuals"
"0","    "
"0","    "
"0","    bland_altman_plots[[paste(algorithms[i], algorithms[j], sep = ""_vs_"")]] <- "
"0","      blandr.draw(scale(data[[algorithms[i]]]), scale(step.tmp)) + "
"0","      custom_theme + "
"0","      labs(#x = ""Steps per day"", y = 'Counts',"
"0","         title = paste0(step_algorithms[i],' - ', step_algorithms[j]))"
"0","      "
"0","  }"
"0","}"
"0","plot.null = ggplot() + geom_blank() + custom_theme"
"0",""
"0",""
"0","combined_plot <- wrap_plots("
"0","  #bland_altman_plots$adept_vs_adept,"
"0","  bland_altman_plots$adept_vs_oak,"
"0","  bland_altman_plots$adept_vs_sdt,"
"0","  bland_altman_plots$adept_vs_stepcount_ssl,"
"0","  bland_altman_plots$adept_vs_vs,"
"0","  plot.null,"
"0","  #bland_altman_plots$oak_vs_oak,"
"0","  bland_altman_plots$oak_vs_sdt,"
"0","  bland_altman_plots$oak_vs_stepcount_ssl,"
"0","  bland_altman_plots$oak_vs_vs,"
"0","  plot.null,"
"0","  plot.null,"
"0","  #bland_altman_plots$sdt_vs_sdt,"
"0","  bland_altman_plots$sdt_vs_stepcount_ssl,"
"0","  bland_altman_plots$sdt_vs_vs,"
"0","  plot.null,"
"0","  plot.null,"
"0","  plot.null,"
"0","  #bland_altman_plots$stepcount_ssl_vs_stepcount_ssl,"
"0","  bland_altman_plots$stepcount_ssl_vs_vs,"
"0","  ncol = 4"
"0",") & "
"0","theme(legend.position = 'bottom')"
