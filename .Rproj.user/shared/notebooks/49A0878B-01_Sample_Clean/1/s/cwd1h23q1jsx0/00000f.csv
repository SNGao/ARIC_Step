"0","colnames(dat_vis)"
"1"," [1]"
"1"," ""subjectid""           "
"1"," ""adept""               "
"1"," ""oak""                 "
"1","
"
"1"," [4]"
"1"," ""sdt""                 "
"1"," ""stepcount_ssl""       "
"1"," ""vs""                  "
"1","
"
"1"," [7]"
"1"," ""exam_dat""            "
"1"," ""BMI_cat""             "
"1"," ""Depre_CES""           "
"1","
"
"1","[10]"
"1"," ""sport_index""         "
"1"," ""Age""                 "
"1"," ""cogstatus""           "
"1","
"
"1","[13]"
"1"," ""APOE_4""              "
"1"," ""center""              "
"1"," ""Education""           "
"1","
"
"1","[16]"
"1"," ""Visit""               "
"1"," ""Sports.participation"""
"1"," ""Sex""                 "
"1","
"
"1","[19]"
"1"," ""Race""                "
"1"," ""BMI""                 "
"1"," ""Hypertension""        "
"1","
"
"1","[22]"
"1"," ""Diabetes""            "
"1"," ""SPPB""                "
"1"," ""Center""              "
"1","
"
"1","[25]"
"1"," ""CES.D""               "
"1"," ""APOE""                "
"1"," ""Smoking""             "
"1","
"
"1","[28]"
"1"," ""Drinking""            "
"1"," ""exam_age""            "
"1","
"
"0","covariates <- c(""Sex"", ""Race"", ""Education"", ""Smoking"", ""Drinking"", 'APOE')"
"0",""
"0","for (covariate in covariates) {"
"0","  plot_list = list()"
"0","  for (var in var_list) {"
"0","    temp = dat_vis[!is.na(dat_vis[[covariate]]), ]"
"0","    name = step_algorithms[which(var_list == var)]"
"0","    plot = ggplot(temp, aes(x = .data[[var]], fill = as.factor(get(covariate)))) +"
"0","      geom_density(alpha = 0.5) +"
"0","      labs(x = 'Steps per day', y = 'Density', #paste0(""Step counts ("", name, ')'"
"0","           fill = covariate,"
"0","           title = name) +"
"0","      scale_y_continuous(labels = scales::scientific_format(digits = 1)) + "
"0","      theme_minimal() + custom_theme"
"0","    "
"0","    plot_list[[var]] = plot"
"0","  }"
"0","  output_name = paste0('Results/04_Density_', covariate, '.pdf')"
"0","  "
"0","  pdf(output_name, height = 6, width = 9)"
"0","  a = plot_list$adept + plot_list$oak + plot_list$sdt + plot_list$stepcount_ssl + plot_list$vs + "
"0","    plot_layout(guides = ""collect"") &"
"0","    theme(legend.position = 'bottom')"
"0","  print(a)"
"0","  dev.off()"
"0","}"
